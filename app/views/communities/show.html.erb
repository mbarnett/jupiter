<% page_title(t('communities.title', title: @community.title)) %>

<h2 class="mt-3"><%= t('communities.title', title: @community.title) %></h2>

<% if policy(@community).edit? || policy(@community).destroy? %>
  <div class="row mt-3" >
    <div class="col text-right" >
      <div class="btn-group">
        <% if policy(@community).edit? %>
          <%= link_to t('.edit'), edit_community_path(@community),
              class:'btn btn-secondary' %>
        <% end %>
        <% if policy(@community).destroy? %>
          <%= link_to t('.delete'), community_path(@community), method: :delete,
              class:'btn btn-danger',
              data: { confirm: t('.delete_confirm', title: @community.title) } %>
        <% end %>
      </div>
    </div>
  </div>
<% end %>

<div class="row mt-3">
  <div class="col" >
    <p>
      <%= @community.description %>
    </p>
  </div>
</div>

<div class="row d-flex justify-content-between mt-3">
    <h4 class="collections-header">
      <%= t('.collections_list_header') %>
    </h4>
  <% if policy(:collection).create? %>
      <%= link_to t('.create_new_collection'), new_community_collection_path(@community),
          class: 'btn btn-primary' %>
  <% end %>
</div>

<div class="row mt-3">
  <div class="col">
    <div class="list-group">
      <%# should be reversed, admin should be using communities partial not vice versa %>
      <%= render partial: 'admin/communities_and_collections/collections_list' %>
    </div>
  </div>
</div>
